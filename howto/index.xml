<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
      <title>Howtos on Firo Notes </title>
      <generator uri="https://gohugo.io">Hugo</generator>
    <link>http://firoyang.org/howto/</link>
    <language>en-us</language>
    <author>Firo Yang</author>
    <copyright>Copyright (c) 2015, Nanshu Wang; all rights reserved.</copyright>
    <updated>Sat, 25 Apr 2015 00:00:00 UTC</updated>
    
    <item>
      <title>使用mutt收发邮件</title>
      <link>http://firoyang.org/howto/mutt/</link>
      <pubDate>Sat, 25 Apr 2015 00:00:00 UTC</pubDate>
      <author>Firo Yang</author>
      <guid>http://firoyang.org/howto/mutt/</guid>
      <description>

&lt;p&gt;&lt;img src=&#34;http://upload.wikimedia.org/wikipedia/en/5/5f/Trigun_manga.jpg&#34; alt=&#34;Trigun&#34; /&gt;
###Reference
昨天用web Gmail给社区的maillist回信, 被退信了. 提示Gmail发送的邮件包含html.
这才想起来社区的mailist只接收:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;No MIME, no links, no compression, no attachments.  Just plain text&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;我之前发给社区的邮件是用git sendmail发给maillist, 不会有这个问题.
有点不方便, 今天决定使用mutt.
需要mutt, fetchmail, procmail, msmtp, proxychains(天朝专用), vim/emacs
发一个邮件, 需要这么多程序啊, 以前一直以为一个mutt就够了, 还Gmail方便啊.
mutt的作用类似于胶水, 把其他程序联系起来.
fetchmail收, procmail过滤spam mail, msmtp 用来发送, proxychains 翻x墙,
vim/emacs用来编辑邮件.&lt;/p&gt;

&lt;p&gt;###收邮件
其实, 并不像网上博客中说的那样, fetchmail 和procmail并不是必须的.
参考mutt官网的&lt;a href=&#34;http://dev.mutt.org/trac/wiki/UseCases/Gmail&#34;&gt;UserStory/GMailOverIMAP&lt;/a&gt;
你就可以想Web gmail一样实时推送邮件到你mutt了.
之后在.muttrc中加入:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;bind index G imap-fetch-mail
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;这样你就可以用G这个命令在mutt中主动同步gmail了.
此时翻墙用户启动mutt, proxychains会输出代理信息过滤到/dev/null&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;proxychains mutt 2&amp;gt; /dev/null
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;###mutt 与发邮件
具体的配置看wangcong的&lt;a href=&#34;http://wangcong.org/2007/03/09/-e4-bd-bf-e7-94-a8mutt-e5-a4-84-e7-90-86-e7-94-b5-e5-ad-90-e9-82-ae-e4-bb-b6-2/&#34;&gt;使用mutt处理电子邮件&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&#34;删邮件:fd4348eee750480c168c18a1c3baf16a&#34;&gt;删邮件&lt;/h3&gt;

&lt;p&gt;在.muttrc配置如下，你在mutt中delete的mail在gmail的web上看不到了.
&lt;code&gt;set delete=yes&lt;/code&gt;
可能需要在mutt中配置gamil trash, 求反馈.&lt;/p&gt;

&lt;p&gt;###其他
* 国内gmail用户要用proxychains 做下代理, 这样就能使用gmail了:
&lt;code&gt;set sendmail=&amp;quot;proxychains /usr/bin/msmtp&amp;quot;&lt;/code&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;wangcong的blog中的配置&amp;lt;不太符合习惯, 按着习惯和美感应该是:
&lt;code&gt;set indent_str=&amp;quot;&amp;gt;&amp;quot;&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;mutt取消当前命令用ctrl g&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;靠gmail 存了两份发送邮件, 把这句注释掉, gmail自己本身会缓存的:
&lt;code&gt;set record = &amp;quot;+[Gmail]/Sent Mail&amp;quot;&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
  </channel>
</rss>
