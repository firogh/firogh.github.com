---
title: lyubishchev-14
date: 2015-02-27T15:46:11+08:00 
category: firo
---

###01 Jan
Learnign japanese gramar

###02 Jan
Chrole:
wystream launch				1h
.config feeds
wyacc
hwf official site

=10
+10
analysis wystream test result

###06 Jan
=10
smartqos
wystream

###13 Jan
=10
Battlefiled 3 teach.
+40 
wystream environment.
+55 start to collect information
1 upload without wystream
wait a quite time before upload 1~3 minutes 16MB
2 upload with wystream
=11
Finished cap packet.
+50
Analysis, no results!
contiue to get infomation
+58
FAQ
1 Forget to remove  9988 kproxy -D -W

###02 Feb
It has been played LOL gaming four days arrvied in home since 27, Jan.
The mess life should be cleared.
Now, it's the time.

Do something to recovery.

###05 Feb
Start new plan.


###24 Feb
What day is it today?
=10
+20
Clean tickets on Trac.
Set up Game-PC for testing hwf-net-down incured by Baidu-drive and Kingsoft-manager.
+34
Accounts old task. Nothing, I can do.
Talk with Chaogang about the place which fake-pppoe used in.
Talk with Vampire about pppoe acc app.

=12
+09

FIRO

###03 Mar
=10
Talk infogather with Jaques.
Reply post in HIWIFI BBS.
+44

###09 Mar
New days for me.

###10 Mar
Buildroot		Collect debug-rootfs in debug-root dir.		done	
Smartqos		Send ICMP packet dircetly					done
hwf-crypto		Rename rc4, add md5							done
info upload		

###16 Mar
Getback time, Work really hard!

###10 Mar
NO!!!! Register JLPT-N2

###22 Mar


###23 Mar
=13
+47
Waching face, getup.
=14
+03
Search CCB on Baidu Map
+06
Launch 
CCB card
QQ signatures.
=15
+16
Github on android.
=18
Patent Speedtest in router		
=21
+51
Ecce homo.


###24 Mar
=9
Breakfast
+46
Start work
Deploy hwf-health-chk patch on normal user.
Set meditation wallpaper.
Test dd seek and skip option.
=10
+46

###01 Apr
=9
+26
Buy two a-shirt on Vancle.


###08 Apr
=10
+23

###18 Apr
=12
Chrolet tc-qos
stream 

###21 Apr
1. hwf panic loger
2. sqos qlen not consistency
3. user overflow
4. traffics disorder.
5. menuconfig

###16 Jun
* watchdog
* ngx arp
* debug log analysis
* speedtest.sh

=11-30:Analys Hi-hardrive.
=12-17:Profile nginx arp
* high pressvie load two bin, collect data store in hiwifi mail box
* failed to get frequency of arp.lua
=17:30
* modfied smartqos/kcore/kproxy stop level and smartqos app 
=18:00
* make hiwifi patch 0.2.52  
=19:00
* test smart and etc module
* commit modified. failed to 9003.

###17 Jun
* finish smartqos app upgrade!
=1135 
* finish profile nginx arp performace, origin collecting data spreat.
=1220
* clean trac tickets
* rever release 9004 mistake commits.
* fix compiled failed error and make config.
* refine watchdog.
=2101
* inet_chk merge in one process, done!
###18 Jun
* inet_chk mem-leak..
* hwf_health_chk log analysis 
* watchdog clean and mointor  
* router log
=1000
* analysis inet_chk memory leak
	lua, uci maybe not the crimer!
=1030
* fix HC5663 rom error, re-menuconfig!
=1110
* analysis hwf_health-chk
	define important level: 
	=1130 yulong.an smarqos faq
=1223
* continue to analysis hwf-health-chk log
* make hwf-patch for sysupgrade
* fix build rom error!

###19 Jun
=1000
* co-operatively with weilin on hwf-patch
=1045
* analysis smartqos
	collect origin data
	measure the sqos packet len and speedtest's value always the smame.
=1230
* make log spcifications
* detect smartqos error, machine is trump!
=1518
* review liudong pppd code.
=1608
* watchdog design.

###23 Jun
=0930
* Clean my dirty work table :-)
=1000
* Trace the build error for HC6361, not result.
=1030
* Read system monitor article on wikipedia
=1130
* Collect net info in netstat
=1200
* Can not access internet, try to solve.
	1. inet_chk so sloby...
	2. serial port maybe damage my router.
	3. retstart and reconnect dhcp server, get well.
=1300
* Eatting	60'
=1400
*Coding hiwifi watch dog. 45'
=1445
* Request user problems from chen.xu then process
	+Network detect webpaage, talk with chaogang.
	collect user info:phone, web post
	upgrade my device try to reproduce this problme.
	fialed to repeat.

###30 Jun
The last day of June, day by day, time by time.

###06 Jul
* Failed to things -- JLPT-N2 Register JLPT-N1

###07 Jul
*...

###09 Jul
*Install debug-package-m in debugfs

#19 Jul
=1525
* Playing LOL game, eating, shoping
* Begin	Sat Jul 19 15:25:25 CST 2014
* Back Sat Jul 19 21:57:31 CST 2014

###24 Jul
* Healthchk diagnose, user tragging
	/etc/inittab
	package/base-files/files/etc/init.d/boot
	release menuconfig
	rm package-hiwifi hwf-health-chk
	add package-hiwifi healthchk

* Smartqos-speedtest 
* inetchk
* netifd

#28 Jul

#30 Jul
=1121
* hidameon
	finish code modular
		filename
=1200
	filename ok, code ok.		
=1230
=

#31 Jul
=Todo-list
* hidaemon test.
	move upload kpanic in while loop
* hipatch 
* tgp

	done!


#04 Aug
=Todo-list
* hipatch has contents: hidaemon syslog
	1' 1030 ~ 1130
* tgp-lua
	2' 1130 ~ 1430
* speedtest
	2' 1430 ~ 1630

=1300
* hipatch write script for hidamone
	finish

=1400
* qos optimized
=1430
* make a move
* hidaemon
	merge tao.lin's modefications
	kpanic log path

#05 Aug
=Todo list
* tgp 
	1030~1230 120'
	1110:1001.lua
	1130:1002.lua
	1150:1003.lua
	1220:1004.lua

* qos config lua openapi
* speedtest


#10 Aug
=1435
reorganize ~ 20'

=1526
Finish reorgnaine files used 50', more using proximiate 30'	

=1528
relax 2 minutes
=1530
* start to understand rcu usage, more deatils in use-rcu.note
	estimate 30', but use 3 hours.
=1830
* 休息10', real relax time is 1hours

=1933
* libnetlink 30'

=2007
* eating dinner.
* watch lol gaming

=2230
* libnl
* zhoubao
=2320
* bath and sleep

#11 Aug
=0800
* wake up
* washing ...
* subway, bus
* breakfast
=0950
* arrive work station
* record morning
=1000
* write todo list
=1013
* write tgp plugin
* fix sqos api review error
* compile  1 2 1s error 
* demonstration and modify doc
* BUG
=1540


=Todo list
* tgp 
	write plugin and test 30'
	tell it to jiapei
* smartqos
	API 30'
	BUG 10'
* speedtest
	optimize download algorithm, simulate speedtest.net 30'
* weekly meeting

* smartqos demonstration for copyright 20' befor 1130
	install/uninstall
	start stop
	speed limit
	free wifi
	qqvoice
	key comments
#12 Aug
=Todo list
* smartqos capsulate
* tgp plugin
* speedtest

#13 Aug
=1518
* fix kcore flash.
* sqos api unset device config
=1556

#14 Aug
=Todo list
* new sqos
* sqos guest
* speedtest


#14

#15 Aug
=Todo list
* munin
* qos guest peak
* speedtest

#17 Aug

#18 Aug
=Todo list
* speedtest
* smartqos bug
	add tc in hotplug 
	lose traffic
	recognize

#21 Aug
=Todo list
* smartqos
	guest free
	kproxy
	

#22 Aug
=Todo list
* 

#25 Aug
=Todo list
* smatqos uci state
* Kproxy mark syn	20'
* smartqos guest tc		30'
* smartqos shadow socks	30'
* smartqos open api

#15 Sep
=Todo list

=1000
Coperate with chaoang, sqos UI error.
=1010
Compile error locates.
=1030
talks sqos new feature show limits config list.
help a user, guest network level 5 show plugin.
=1130
断线问题
房东雨优化补丁

协助用户使用访客网络解决商场流动人数多, 限速困难问题.
追踪pppoe不定时断网问题, 排除与inetchk 关系, 开了kernel signal debug , 交给刘东再看看.

#16 Sep
#ifndef CONFIG_NO_HIWIFI_QOSMARK
    skb->qosmark = po->sk.sk_qosmark;
#endif


#22 Sep
=qosmark
	* code commit
	* Write wiki

=inetchk
	* execute all code
	* upload tar
	* use /tmp/resolve.conf.auto

=HB5811 cloud check
	* first device no cmagent




1. /etc/hosts tw is parent host ip in cascade mode
 964 root      1672 S    udhcpc -p /var/run/udhcpc-br-lan.pid -s /lib/netifd/dhcp.script -R -a -f -t 0 -i br-lan -r 10.1.1.1


#02 Sep
=Qdisc

=device model

=API level
* netif_xxx
* devivce_xxx
dev 开头的时间比较老. netdev的新一点...
dev 和设备属性靠的更近比如mtu mac的设置这些.
netdev 和协议栈的的内容相关.
device_ 偏model
netif_ 偏低
吐槽:命名是在是太烂了 dev_open竟然是只打开网络设备....chrdev_open, blkdev_open 哭死在厕所.

=link layer
一个状态机要运转必须有外部激励,在大部分网络协议中外部激励主要有 3 种:
(1) 用户的配置命令
(2) 对端交流对象的数据报文
(3) 定时器


+application
*http dhcp nfs
+presetation
* ...
+session
*pptp socks
+transprot
* tcp
+network
* ip
+data link : ieee 802.2, HDLC cisco
tcp/ip's link layer is simple but not comprehensive! So we use OSI data link, 
strip out physical info which include by tcp/ip's link!
* LLC logical link control/Subnetwork Access Protocol (SNAP)
	PPP
	arp
	net/llc
	llc                    13941  2 stp,bridge
* Aggregation MAC Link aggregation control protocol
	LAC, bonding 4/802.3ad in linux kernel!
	drivers/net/bonding/
* MAC media access control  802.3
	CSMA/CA QOS VLAN
	802.3 include etehrnet

+physical 802.3

=protocol
* tunnel, gre...
* vlan

=netdev parts
* init: 

=rgister
driver-> pci-> driver.

=napi netpoll
napi poll device
netpoll for boot time

=rcu in netdev

#08 Oct
=0700
Mastrbutation
=0735
Relax
=0800
Washing
=0900
McDonald breakfast
=0920
Surf internet on autocracy notes
=1053
*TODO
* SQOS dmesg log format and content.

#18 Oct

#20 Oct
=1000
Fix daily compile error fuser depend libncurses

=1040
Assist Kai Chen, i2c init script.

=11:00
Assist Fei Yan, debug leak two day data, cause: wan renew.

=11:40
Fix BL-855R, CONFIG_RT2860V2_AP_RTMP_INTERNAL_TX_ALC is not set

1427

#21 Oct
smartqos config clean pannic, cat msleep 10 seconds background, remove smartqos
/ROOT/www/hwf-health-chk.hiwifi.com/logs/0.9006.2.6020s/HC5661-D4EE07/0E/31/76/a2-0.9006.2.6020s-kpanic-20141020041502-D4EE070E3176

#22 Oct
=1020

#27 Oct
Compile error.
smartqos duplicate user.

#12 Nov
=1031

#26 Nov
* GDB need more infomations.
* Analysis  pppoe

#28 Nov
* ...

#06 Dec
=Workaround
* Job hopping
* Kernel stuff
* Physical execises

#08 Dec
* add signal filter ver 2

#09 Dec
* pppoe_analysis 

#12 Dec
* reduce delay-syslog
* inetchk 
* add mqtt to hidaemon

#15 Dec
=Workaround
* add signal filter support ver 3
* deal pppoe syslog and hive problems
* talk with liudong

#22 Dec
* limit parallel process for crond
	run_process
	* if under number control -> run
	* else beyond max wait time -> run
	* else enqueue backlog queue

	timeout kill process


=9008
* hidaemon disable upload syslog
* fcig-turbo
* hidaemon dot d
* inethk is alreday.

=Workaround
* pppoe fail connection data report
* analysis complicated pppoe fail stuff.
* add stop interface to disable data upload
* setup smartqos in hotplug
* kernel bug type
* life cognitive

=Tal
* ruanyifeng
* Haitao
* Medical examination
* CHeck House funding in phone
* How do I leave such field?
* 北京空气为什么污染这么严重？
* Record bus stamp of arriving bustation
* Trousers
* Physical exercise schedule table
* Housing Fund
* Body care

#What is I really want
A process, not a target. Process of living, working, loving        
                             
#Most Wanted
* Health and nature life.
* My family lover and friends
* Freelancer kernel developer
                                                                  
#Aaron Swartz,25:20                                                
I feel very strongly that it's not enough to just live in           
the world as it is, it's just kind of take what you're given,        
and you know follow the things that adults told you to do,            
and that your parents told you to do, and that society tells to do.     
I think you should always be questioning.                              
I take this very scientific attitude that every thing you've             
learned  is just provisional, you know, it's always open to               
recantation or refutation or questioning, and I think  the same applies to 
society. Once I realized that there were real serious problems,
fundamental problems that I could do something to address,  
I didn't see a way to forget that, I didn't see a way not to.

###07 Dec
JLPT-N1

