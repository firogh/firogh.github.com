---
tags: [ net ] 
title: Network offload
date: 
category: net
---
# Reference
[GSO: Generic Segmentation Offload][1]
[1]: https://lwn.net/Articles/188489/
## TSO
搞这么复杂就是为了, 在validate_xmit_skb如果硬件支持tso, 协议栈就偷懒了, 不分片tcp报文, 
当然skb->len得大于mss_now才有意义.
tcp_set_skb_tso_segs


## offload
* TSO in tcp_v4_connect
[TSO Explained](https://tejparkash.wordpress.com/2010/03/06/tso-explained/)
One Liner says: It is a method to reduce cpu workload of packet cutting in 1500byte and asking hardware to perform the same functionality.
* GSO
[GSO: Generic Segmentation Offload](http://thread.gmane.org/gmane.linux.network/37287)
TSO = GSO_TCPV4
frags = sg I/O
frag_list
*GRO
napi -> dev ->inet->skb


