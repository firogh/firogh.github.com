<!DOCTYPE html>
<html class="no-js" lang="en-US" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#">
<head>
    <meta charset="utf-8">

    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="description" content="">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="keywords" content="cs, ">

 
<meta property="og:type" content="article"/>
<meta property="og:description" content=""/>
<meta property="og:title" content="Computer architecture : firoyang.org"/>
<meta property="og:site_name" content="Firo Website"/>
<meta property="og:image" content="" />
<meta property="og:image:type" content="image/jpeg" />
<meta property="og:image:width" content="" />
<meta property="og:image:height" content="" />
<meta property="og:url" content="/cs/arch/">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2015-10-13"/>
<meta property="article:modified_time" content="2015-10-13"/>



<meta property="article:tag" content="cs">





    <base href="">
    <title> Computer architecture</title>
    <link rel="canonical" href="/cs/arch/">
    

    <link href='http://fonts.useso.com/css?family=Fjalla+One|Open+Sans:300' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="/static/css/style.css">

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    
</head>

<body lang="en" itemscope itemtype="http://schema.org/Article">
<header id="header">
	<link rel="stylesheet" href="static/css/font-awesome.min.css">
	<nav id="nav">
	<div id="title"><a href="/">Firo Notes</a></div>
	<div>
	
	</div>
	</nav>
	<nav id="nav">
    	        <ul id="mainnav">
            <li>
            <a href="/review/">
                <span class="icon"> <i aria-hidden="true" class="fa fa-thumbs-o-up"></i></span>
                <span> review</span>
            </a>
            </li>
	
            <li>
            <a href="/history/">
                <span class="icon"> <i aria-hidden="true" class="fa fa-institution"></i></span>
                <span> history </span>
            </a>
            </li>
            <li>
            <a href="/about">
                <span class="icon"> <i aria-hidden="true" class="fa fa-rocket"></i></span>
                <span> Firo </span>
            </a>
            </li>
            <li>
                <a href="/howto/">
                <span class="icon"> <i aria-hidden="true" class="fa fa-gamepad"></i></span>
                <span> howto </span>
            </a>
            </li>
            <li>
            <a href="/kernel/">
                <span class="icon"> <i aria-hidden="true" class="fa fa-linux"></i></span>
                <span> kernel </span>
            </a>
            </li>
            <li>
            <a href="/net/">
                <span class="icon"> <i aria-hidden="true" class="fa fa-globe"></i></span>
                <span> net </span>
            </a>
            </li>
            <li>
            <a href="/philosophy/">
                <span class="icon"> <i aria-hidden="true" class="icon-leaf"></i></span>
                <span> philosophy </span>
            </a>
            </li>
            <li>
                <a href="/cs/">
                <span class="icon"> <i aria-hidden="true" class="fa fa-laptop"></i></span>
                <span> cs </span>
            </a>
            </li>
        </ul>

	</nav>
	<nav id="nav">
       
	</nav>
</header>



<section id="main">
  <h1 itemprop="name" >Computer architecture</h1>
  

<aside id="meta">

    <div>
        <section id="datecount">
          <h4 id="date"> Tue Oct 13, 2015 </h4>
          
        </section>
        
        <ul id="tags">
          
            <li> <a href="/tags/cs">cs</a> </li>
          
        </ul>

    </div>


</aside>

<meta itemprop="wordCount" content="657">
<meta itemprop="datePublished" content="2015-10-13">
<meta itemprop="url" content="/cs/arch/">


  <div>
        <article itemprop="articleBody" id="content">
           

<p>##Reference
Legacy 常用寄存器，常见指令 实模式和保护模式 分段和分页机制 TSS和任务管理 中断机制 时钟机制 高速缓存
《模拟电子技术基础 童诗白 第四版》第一章前半部分
Structured Computer Organization 6th Edition
Digital Design and Computer Architecture 2nd Edition
Computer Organization and Design 5th Edition
Write Great Code: Volume 1: Understanding the Machine
See MIPS run
Intel 64 and IA-32 architectures software developers manual combined volumes 3A, 3B, and 3C: System programming guide<br />
Microelectronics</p>

<h1 id="computer-architecture:db4e8bc0878d0c9c387c4ffab2ea87af">Computer architecture</h1>

<p>cpu
memory
I/O</p>

<h1 id="contents:db4e8bc0878d0c9c387c4ffab2ea87af">Contents</h1>

<p>I/O IC
Assembly language
Interrupt
ISA
Machine language
Interpreting Machine Language Code
Microarchitecture
Digital Logic circuit(Logic gates)
ALU
Computer memory
Register/Flip-flop
Cache/SRAM
DRAM/capacitor
Analog Circuit
BJT FET Didoe</p>

<h2 id="isa:db4e8bc0878d0c9c387c4ffab2ea87af">ISA</h2>

<p>model: 1570s, &ldquo;likeness made to scale; architect&rsquo;s set of designs,&rdquo; from Middle French modelle
Semantics in computer science: In programming language theory, semantics is the field concerned
with the rigorous mathematical study of the meaning of programming languages.
Language primitive
ISA: memory model, registers, data types, instructions, word size(?).
Memory model: unit of address resolution, word, aligment, address space, addressing mode, memory barrier/memory order primitive&rsquo;s semantics.
The interface between hardware and software.
Arm v7
word = instruction
vocabulary = instruction set</p>

<h2 id="microarchitecture:db4e8bc0878d0c9c387c4ffab2ea87af">Microarchitecture</h2>

<p>datapath: memories, registers, ALUs, multiplexers.
control unit/decoder
Microcode
How to gurante that every control signal arrive the destnations before the data that will also pass through the destination?
What is the pipeline?
architectural state (the program counter and registers</p>

<h1 id="logic-circuit:db4e8bc0878d0c9c387c4ffab2ea87af">Logic circuit</h1>

<p>Sequential logic
Combinational logic</p>

<h2 id="computer-memory:db4e8bc0878d0c9c387c4ffab2ea87af">Computer memory</h2>

<p>flip-flops &amp; latches, register files(?), memorys
What is NOR gates?
What is the implement of gate?</p>

<p>data type
instructions: 算术, 控制, 数据传送
register file
addressing modes(include memory mode)
interrupt and exception handling,
external I/O</p>

<p>#x86 Interrupt
If interrupt occured in user mode, then cpu will context swith for potential reschedule.
The Interrupt Descriptor Table (IDT) is a data structure used by the x86 architecture to implement an interrupt vector table.
##Hardware interrupts
are used by devices to communicate that they require attention from the operating system.
asynchronus
more details in init_IRQ() or set_irq() in driver.
##software interrupt
synchronus
more details in trap_init().
* exception or trap
is caused either by an exceptional condition in the processor itself,
divide zero painc?
* special instruction, for example INT 0x80
or a special instruction in the instruction set which causes an interrupt when it is executed.</p>

<h2 id="microarchitecture-1:db4e8bc0878d0c9c387c4ffab2ea87af">Microarchitecture.</h2>

<ul>
<li>pipeline, 为什么流水工作效率高?复用? 一整条流水线对应一种指令:运算指令(算术 控制) or 数据传输指令(load sotre)对于RISC
IF阶段也可以访问存储器,要和load sotre分开. IF是对指令的读取. load store是对数据, 这是icache和dcache产生的原因, FIXME.
结构冒险说的就是i/dcache没分开, IF 和MEM冲突了.
数据冒险, 指令件参数依赖造成的问题.
控制冒险, 流水越深,危害越大.软件排空流水的方法是加nop, x86硬件排空,分支预测减少危害.</li>
<li>branch prediction.
dsp用条件执行替代跳转.</li>
<li>out-of-order
乱序执行相对于顺序执行.
无关指令可以任意执行.</li>
<li>superscalar
instruction cycle, 什么是cycle.</li>
<li>data level parallelism</li>
<li>thread level parallelism
超线程, 同步问题.</li>

<li><p>cache
cache miss
住要看cache, 乱序, 还有lock对执行的影响.
temporal locality: for icache
spatial locality: array
第一次访问内存里arry[0]很慢, 可被load cacheline 后其他数组成员访问延时就飞了.
##Cache
a cache is a component that stores data so future requests for that data can be served faster;
the data stored in a cache might be the results of an earlier computation,
or the duplicates of data stored elsewhere.
###CPU cache
A CPU cache is a cache used by the central processing unit (CPU) of a computer
to reduce the average time to access data from the main memory.</p>

<h4 id="associativity-cpu-cache-algorithms:db4e8bc0878d0c9c387c4ffab2ea87af">Associativity - CPU Cache algorithms</h4></li>

<li><p>Two-way set associative cache</p>

<h4 id="cache-coherence:db4e8bc0878d0c9c387c4ffab2ea87af">Cache coherence</h4>

<p>Cache coherence is the consistency of shared resource data that ends up stored in multiple local caches.
Cache conerence is mantained by mostly archtecure like cpu</p></li>

<li><p>MSI
####Cache type</p></li>

<li><p>Instructin cache</p></li>

<li><p>Data cache</p></li>

<li><p>TLB - Translation lookaside buffer
###GPU cache
###Disk cache
###Web cache</p>

<h2 id="fixme-concepts:db4e8bc0878d0c9c387c4ffab2ea87af">FIXME concepts</h2>

<p>code: 手电筒 -&gt;　莫尔斯码
Numeral system: 手指头　-&gt; 二进制
logic: 三段论 -&gt; bool -&gt; 电路开关 亚里士多德 布尔 香农
A Symbolic Analysis of Relay and Switching Circuits
The Mathematical Theory of Communication
触发器 英国射电物理学家 William Henry Eccles
晶体管</p>

<h1 id="phy-the-physical-layer:db4e8bc0878d0c9c387c4ffab2ea87af">PHY &ndash; The physical layer</h1>

<h2 id="introductions:db4e8bc0878d0c9c387c4ffab2ea87af">Introductions</h2>

<p>Fromwikipedia:
&gt; In the seven-layer OSI model of computer networking, the physical layer or layer 1 is the first (lowest) layer.[1]
&gt; The implementation of this layer is often termed PHY.
&gt; The physical layer consists of the basic networking hardware transmission technologies of a network.
<a href="https://www.kernel.org/doc/Documentation/networking/phy.txt">https://www.kernel.org/doc/Documentation/networking/phy.txt</a>
PCS
PMD</p></li>
</ul>

<h1 id="i-o-ic:db4e8bc0878d0c9c387c4ffab2ea87af">I/O IC</h1>

<p>serial communication: UART(16550) + RS-232
parallel communication: SCSI, ISA, ATA, PCI, FSB</p>

        </article>
  </div>
</section>

<aside id=comments>
    <div><h2> Comments </h2></div>
    
</aside>

<footer>
  <div>
    <p>
    &copy; 2014 ~ 2016 <span itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Firo Yang</span></span>
<a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/80x15.png" /></a>. Powered by <a href="http://gohugo.io">Hugo</a>.
        Theme by <a href="http://spf13.com">Steve Francia <a href="http://firoyang.org">Firo Yang</a>.
    </p>
  </div>
</footer>
<script type="text/javascript">
(function(){var j=function(a,b){return window.getComputedStyle?getComputedStyle(a).getPropertyValue(b):a.currentStyle[b]};var k=function(a,b,c){if(a.addEventListener)a.addEventListener(b,c,false);else a.attachEvent('on'+b,c)};var l=function(a,b){for(key in b)if(b.hasOwnProperty(key))a[key]=b[key];return a};window.fitText=function(d,e,f){var g=l({'minFontSize':-1/0,'maxFontSize':1/0},f);var h=function(a){var b=e||1;var c=function(){a.style.fontSize=Math.max(Math.min(a.clientWidth/(b*10),parseFloat(g.maxFontSize)),parseFloat(g.minFontSize))+'px'};c();k(window,'resize',c)};if(d.length)for(var i=0;i<d.length;i++)h(d[i]);else h(d);return d}})();
fitText(document.getElementById('title'), 1)
</script>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-63396532-1', 'auto');
  ga('send', 'pageview');

</script>


</body>
</html>


<script type="text/javascript"
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\[','\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});
</script>

</body>
